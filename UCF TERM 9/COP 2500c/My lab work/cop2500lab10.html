<html>
<head>
	<title>
		Kyle Cartechine - Lab 10 - COP2500
	</title>
</head>
<body>
	<script type="text/javascript">
	var upperChar = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
	var lowerChar = "abcdefghijklmnopqrstuvwxyz";
	var numbers = "0123456789";
	var specChar = "~!@#$%^&*";
	
	var userEmail, userPword;
	
	userEmail = prompt("Enter email address: ", " ");
	userPword = prompt("Enter our passphrase: ", " ");
	
//Part 1: Email validation. 2-3 chars after last . in string and a single @.
	var lastPeriod = userEmail.lastIndexOf('.');
	//document.write(lastPeriod+"<br/>");
	var domain = userEmail.substr(lastPeriod + 1);
	//document.write(domain+"<br/>");
	
	if ( ((domain.length == 2) || (domain.length == 3) ) && (userEmail.indexOf("@") != -1) ){
		document.write("Email is valid. <br/>");
	}
	else{
		document.write("Email is invalid, try again!<br/>");
	}
//Part 2: Password validation. At least one lowercase, uppercase, number, and special character
	function checkUpper(string){
		var count = 0;
		for(i=0; i<string.length; i++){
			for(j=0; j<upperChar.length; j++){
				if( string.charAt(i) == upperChar.charAt(j) ){
					count+=1;
				}
			}
		}
		if( count >= 1 )
			return true;
		else
			return false;
	}
	
	function checkLower(string){
		var count = 0;
		for(i=0; i<string.length; i++){
			for(j=0; j<lowerChar.length; j++){
				if( string.charAt(i) == lowerChar.charAt(j) ){
					count+=1;
				}
			}
		}
		if( count >= 1 )
			return true;
		else
			return false;
	}
	
	function checkNum(string){
		var count = 0;
		for(i=0; i<string.length; i++){
			for(j=0; j<numbers.length; j++){
				if( string.charAt(i) == numbers.charAt(j) ){
					count+=1;
				}
			}
		}
		if( count >= 1 )
			return true;
		else
			return false;
	}
	
	function checkSpec(string){
		var count = 0;
		for(i=0; i<string.length; i++){
			for(j=0; j<specChar.length; j++){
				if( string.charAt(i) == specChar.charAt(j) ){
					count+=1;
				}
			}
		}
		if( count >= 1 )
			return true;
		else
			return false;
	}
	
	if( (checkUpper(userPword) == true) 
		&& (checkLower(userPword) == true)
		&& (checkNum(userPword) == true) 
		&& (checkSpec(userPword) == true) ){
			document.write("Passphrase is valid.");
		}
		else
			document.write("Passphrase is invalid, try again!");
	
	</script>

<body>
<html>